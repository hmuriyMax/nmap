# Сервис-обёртка над nmap
Сервис представляет собой обертку над скриптом "vulners" для утилиты nmap.
Этот скрипт позволяет искать уязвимости и проставлять им оценку.
## Инструкция:
### Для сборки проекта необходимы:
1. Установленный компилятор Go 1.18+
2. Установленный nmap ([тут можно скачать](https://nmap.org/download.html))

### Что можно сделать сразу:
1. С помощью команды ```make build``` запустить сборку и работу непосредственно сервера.
Этот сервер работает на GRPC. Его интерфейс описан в ```/api/proto/api.proto```. Если коротко:
у него есть один метод ```CheckVuln```, принимающий запрос и возращающий ответ в виде сложной составной струкуры.

2. Вручную собрать и начать работу сервиса. В этом случае бинарнику сервиса можно будет передать параметры:
   1. адрес для разворачивания сервиса
   2. уровень логирования (на текущий момент есть только 2 уровня: 0 и 1 и выше. 0 выводит только
критические ошибки, 1 выводит начало и конец общих действий сервиса)

3. **После запуска сервера** запустить тесты. Это можно сделать с помощью ```make test```. По умолчанию
тестируются ```localhost```, ```ts.mpei.ru``` и ```pkg.go.dev``` на порте ```:80```. В результате
уязвимости находятся только у второго примера.

4. Можно изменить набор тестируемых адресов. Они записаны в файле ```test.csv```, где первая строка -
адреса, а вторая - порты, на которых происходит тестирование.

**(В случае использования адреса сервиса не по умолчанию, нужно запускать компиляцию и выполнение
тестов вручную. Единственным параметром для бинарника с тестами как раз является адрес GRPC сервера)**

### Возможности для развития, на которые не хватило одного вечера:
1. Сделать клиент-сервер (http), делающий отображение уязвимостей гораздо нагляднее
2. Замерять время (желательно ещё и прогресс тестирования, но используемая библиотека пока
это не поддерживает)
3. Заменить ```.csv``` файл на что-то более удобное (пока что нужно, чтобы количество элементов
в первой и второй строке совпадало или создавать пустые элементы для этого. Причем количество
портов должно быть меньше, чем количество адресов во избежание ошибок)
4. Пайплайн для тестирования, большее разнообразие тестов
